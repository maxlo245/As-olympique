; AS Olympique - PHP Configuration
; This file contains PHP configuration directives for performance optimization

; ============================================
; OPCACHE CONFIGURATION
; ============================================
; OPcache stores precompiled script bytecode in memory, improving PHP performance

; Enable OPcache (if not already enabled in php.ini)
opcache.enable=1

; Memory consumption (128MB recommended for production)
opcache.memory_consumption=128

; Maximum number of files to cache
opcache.max_accelerated_files=10000

; How often to check for file changes (in seconds)
; Set to 0 in production for best performance, use 1-2 in development
opcache.revalidate_freq=2

; Enable file timestamp validation (set to 0 in production for best performance)
opcache.validate_timestamps=1

; Save comments in opcode (required for some frameworks/libraries)
opcache.save_comments=1

; Fast shutdown (slight performance improvement)
opcache.fast_shutdown=1

; ============================================
; REALPATH CACHE
; ============================================
; Caches realpath() results to reduce filesystem calls

; Realpath cache size (4MB recommended)
realpath_cache_size=4096K

; Realpath cache TTL (2 minutes)
realpath_cache_ttl=120

; ============================================
; SESSION CONFIGURATION
; ============================================

; Use files for session storage (consider Redis/Memcached in production)
session.save_handler=files

; Session cookie settings (these are overridden in code for compatibility)
session.cookie_httponly=1
session.cookie_samesite="Strict"

; Session garbage collection
session.gc_probability=1
session.gc_divisor=100
session.gc_maxlifetime=3600

; ============================================
; SECURITY SETTINGS
; ============================================

; Disable exposing PHP version
expose_php=Off

; Disable dangerous functions (uncomment if needed)
; disable_functions=exec,passthru,shell_exec,system,proc_open,popen

; ============================================
; ERROR HANDLING
; ============================================

; Log errors but don't display them (for production)
; display_errors=Off
; log_errors=On
; error_log=/path/to/logs/php_errors.log

; For development (enable error display)
display_errors=On
error_reporting=E_ALL

; ============================================
; FILE UPLOAD SETTINGS
; ============================================

; Maximum file upload size
upload_max_filesize=2M
post_max_size=2M

; Maximum number of files per upload
max_file_uploads=5

; ============================================
; PERFORMANCE SETTINGS
; ============================================

; Maximum execution time (seconds)
max_execution_time=30

; Maximum input time (seconds)
max_input_time=30

; Memory limit
memory_limit=128M

; ============================================
; OUTPUT BUFFERING
; ============================================

; Enable output buffering for better performance
output_buffering=4096

; Enable compression of output (if not done by Apache)
zlib.output_compression=On
zlib.output_compression_level=6
